// Mapeo de carreras a sus funciones de endpoint y enlaces
export const CARRERAS_ENDPOINTS = {
  "ingenieria informatica": {
    endpoint: "getContenidoIngInformatica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0456-1",
    nombre: "Ingeniería en Informática",
  },
  "ingeniería informatica": {
    endpoint: "getContenidoIngInformatica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0456-1",
    nombre: "Ingeniería en Informática",
  },
  "ingenieria en informatica": {
    endpoint: "getContenidoIngInformatica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0456-1",
    nombre: "Ingeniería en Informática",
  },
  "ingeniería en informatica": {
    endpoint: "getContenidoIngInformatica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0456-1",
    nombre: "Ingeniería en Informática",
  },
  informatica: {
    endpoint: "getContenidoIngInformatica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0456-1",
    nombre: "Ingeniería en Informática",
  },
  informática: {
    endpoint: "getContenidoIngInformatica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0456-1",
    nombre: "Ingeniería en Informática",
  },
  "analista sistemas": {
    endpoint: "getContenidoAnalistSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0435-1",
    nombre: "Analista de Sistemas",
  },
  "analista de sistemas": {
    endpoint: "getContenidoAnalistSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0435-1",
    nombre: "Analista de Sistemas",
  },
  "analista en sistemas": {
    endpoint: "getContenidoAnalistSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0435-1",
    nombre: "Analista de Sistemas",
  },
  "licenciatura sistemas": {
    endpoint: "getContenidoLicSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0416-1",
    nombre: "Licenciatura en Sistemas",
  },
  "licenciatura en sistemas": {
    endpoint: "getContenidoLicSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0416-1",
    nombre: "Licenciatura en Sistemas",
  },
  "lic sistemas": {
    endpoint: "getContenidoLicSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0416-1",
    nombre: "Licenciatura en Sistemas",
  },
  sistemas: {
    endpoint: "getContenidoLicSistemas",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0416-1",
    nombre: "Licenciatura en Sistemas",
  },
  "tecnicatura diseño desarrollo aplicaciones": {
    endpoint: "getContenidoTecnicaturaDiseñoDesarrollo",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0041-1",
    nombre:
      "Tecnicatura en Diseño y Desarrollo de Aplicaciones Multiplataforma",
  },
  "tecnicatura aplicaciones multiplataforma": {
    endpoint: "getContenidoTecnicaturaDiseñoDesarrollo",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0041-1",
    nombre:
      "Tecnicatura en Diseño y Desarrollo de Aplicaciones Multiplataforma",
  },
  "diseño gráfico": {
    endpoint: "getContenidoDiseñoGrafico",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0355-2",
    nombre: "Licenciatura en Diseño Gráfico",
  },
  "diseño grafico": {
    endpoint: "getContenidoDiseñoGrafico",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0355-2",
    nombre: "Licenciatura en Diseño Gráfico",
  },
  "licenciatura diseño gráfico": {
    endpoint: "getContenidoDiseñoGrafico",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0355-2",
    nombre: "Licenciatura en Diseño Gráfico",
  },
  "diseño indumentaria": {
    endpoint: "getContenidoDiseñoIndumentaria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0345-2",
    nombre: "Licenciatura en Diseño de Indumentaria y Textil",
  },
  "diseño indumentaria y textil": {
    endpoint: "getContenidoDiseñoIndumentaria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0345-2",
    nombre: "Licenciatura en Diseño de Indumentaria y Textil",
  },
  "licenciatura diseño indumentaria": {
    endpoint: "getContenidoDiseñoIndumentaria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0345-2",
    nombre: "Licenciatura en Diseño de Indumentaria y Textil",
  },
  "diseño industrial": {
    endpoint: "getContenidoDiseñoIndustrial",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0653-2",
    nombre: "Licenciatura en Diseño Industrial",
  },
  "licenciatura diseño industrial": {
    endpoint: "getContenidoDiseñoIndustrial",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0653-2",
    nombre: "Licenciatura en Diseño Industrial",
  },
  "ingenieria industrial": {
    endpoint: "getContenidoIngenieriaIndustrial",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0409-2",
    nombre: "Ingeniería Industrial",
  },
  "ingeniería industrial": {
    endpoint: "getContenidoIngenieriaIndustrial",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0409-2",
    nombre: "Ingeniería Industrial",
  },
  "ingenieria mecanica": {
    endpoint: "getContenidoIngenieriaMecanica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0368-2",
    nombre: "Ingeniería Mecánica",
  },
  "ingeniería mecánica": {
    endpoint: "getContenidoIngenieriaMecanica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0368-2",
    nombre: "Ingeniería Mecánica",
  },
  "tecnicatura mantenimiento industrial": {
    endpoint: "getContenidoTecnicaturaMantenimiento",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0375-3",
    nombre: "Tecnicatura en Mantenimiento Industrial",
  },
  "contador publico": {
    endpoint: "getContenidoContadorPublico",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0297-4",
    nombre: "Contador Público",
  },
  "contador público": {
    endpoint: "getContenidoContadorPublico",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0297-4",
    nombre: "Contador Público",
  },
  "licenciatura administracion": {
    endpoint: "getContenidoLicenciaturaAdministracion",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0307-3",
    nombre: "Licenciatura en Administración",
  },
  "licenciatura en administración": {
    endpoint: "getContenidoLicenciaturaAdministracion",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0307-3",
    nombre: "Licenciatura en Administración",
  },
  administracion: {
    endpoint: "getContenidoLicenciaturaAdministracion",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0307-3",
    nombre: "Licenciatura en Administración",
  },
  administración: {
    endpoint: "getContenidoLicenciaturaAdministracion",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0307-3",
    nombre: "Licenciatura en Administración",
  },
  "tecnicatura gestion pymes": {
    endpoint: "getContenidoTecnicaturaGestionPymes",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0476-3",
    nombre: "Tecnicatura en Gestión de PYMES",
  },
  "tecnicatura gestión pymes": {
    endpoint: "getContenidoTecnicaturaGestionPymes",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0476-3",
    nombre: "Tecnicatura en Gestión de PYMES",
  },
  "gestion pymes": {
    endpoint: "getContenidoTecnicaturaGestionPymes",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0476-3",
    nombre: "Tecnicatura en Gestión de PYMES",
  },
  "gestión pymes": {
    endpoint: "getContenidoTecnicaturaGestionPymes",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0476-3",
    nombre: "Tecnicatura en Gestión de PYMES",
  },
  "tecnicatura gestion publica": {
    endpoint: "getContenidoTecnicaturaGestionPublica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0486-3",
    nombre: "Tecnicatura en Gestión Pública",
  },
  "tecnicatura gestión pública": {
    endpoint: "getContenidoTecnicaturaGestionPublica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0486-3",
    nombre: "Tecnicatura en Gestión Pública",
  },
  "gestion publica": {
    endpoint: "getContenidoTecnicaturaGestionPublica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0486-3",
    nombre: "Tecnicatura en Gestión Pública",
  },
  "gestión pública": {
    endpoint: "getContenidoTecnicaturaGestionPublica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0486-3",
    nombre: "Tecnicatura en Gestión Pública",
  },
  abogacia: {
    endpoint: "getContenidoAbogacia",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0334-2",
    nombre: "Abogacía",
  },
  abogacía: {
    endpoint: "getContenidoAbogacia",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0334-2",
    nombre: "Abogacía",
  },
  agronomia: {
    endpoint: "getContenidoAgronomia",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0016-2",
    nombre: "Ingeniería Agronómica",
  },
  agronomía: {
    endpoint: "getContenidoAgronomia",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0016-2",
    nombre: "Ingeniería Agronómica",
  },
  "ingenieria agronómica": {
    endpoint: "getContenidoAgronomia",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0016-2",
    nombre: "Ingeniería Agronómica",
  },
  "ingeniería agronómica": {
    endpoint: "getContenidoAgronomia",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0016-2",
    nombre: "Ingeniería Agronómica",
  },
  "ingenieria alimentos": {
    endpoint: "getContenidoIngenieriaAlimentos",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0107-2",
    nombre: "Ingeniería en Alimentos",
  },
  "ingeniería en alimentos": {
    endpoint: "getContenidoIngenieriaAlimentos",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0107-2",
    nombre: "Ingeniería en Alimentos",
  },
  "tecnicatura produccion alimentos": {
    endpoint: "getContenidoTecnicaturaProduccionAlimentos",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0097-1",
    nombre: "Tecnicatura Universitaria en Producción de Alimentos",
  },
  "tecnicatura producción de alimentos": {
    endpoint: "getContenidoTecnicaturaProduccionAlimentos",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0097-1",
    nombre: "Tecnicatura Universitaria en Producción de Alimentos",
  },
  enfermeria: {
    endpoint: "getContenidoEnfermeria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0286-2",
    nombre: "Licenciatura en Enfermería",
  },
  enfermería: {
    endpoint: "getContenidoEnfermeria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0286-2",
    nombre: "Licenciatura en Enfermería",
  },
  "licenciatura enfermeria": {
    endpoint: "getContenidoEnfermeria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0286-2",
    nombre: "Licenciatura en Enfermería",
  },
  "licenciatura en enfermería": {
    endpoint: "getContenidoEnfermeria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0286-2",
    nombre: "Licenciatura en Enfermería",
  },
  "enfermería universitaria": {
    endpoint: "getContenidoEnfermeria",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0286-2",
    nombre: "Enfermería Universitaria",
  },
  genetica: {
    endpoint: "getContenidoGenetica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0466-4",
    nombre: "Licenciatura en Genética",
  },
  genética: {
    endpoint: "getContenidoGenetica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0466-4",
    nombre: "Licenciatura en Genética",
  },
  "licenciatura genetica": {
    endpoint: "getContenidoGenetica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0466-4",
    nombre: "Licenciatura en Genética",
  },
  "licenciatura en genética": {
    endpoint: "getContenidoGenetica",
    enlace: "https://planesdeestudio.unnoba.edu.ar/?planversion=P0466-4",
    nombre: "Licenciatura en Genética",
  },
};

// Función para detectar carrera en un mensaje
export const detectarCarrera = (mensaje) => {
  const mensajeLimpio = mensaje
    .toLowerCase()
    .replace(/[áéíóúñü]/g, (char) => {
      const map = { á: "a", é: "e", í: "i", ó: "o", ú: "u", ñ: "n", ü: "u" };
      return map[char] || char;
    })
    .replace(/[^\w\s]/g, " ")
    .replace(/\s+/g, " ")
    .trim();

  // Buscar coincidencias exactas primero
  for (const [key, carrera] of Object.entries(CARRERAS_ENDPOINTS)) {
    if (mensajeLimpio.includes(key)) {
      return carrera;
    }
  }

  // Buscar coincidencias parciales si no hay exactas
  for (const [key, carrera] of Object.entries(CARRERAS_ENDPOINTS)) {
    const palabrasKey = key.split(" ");
    const todosPresentesEnMensaje = palabrasKey.every((palabra) =>
      mensajeLimpio.includes(palabra)
    );

    if (todosPresentesEnMensaje && palabrasKey.length > 1) {
      return carrera;
    }
  }

  return null;
};
